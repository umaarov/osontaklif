<p class="card-text"><p><u><strong>`BroadcastReceiver`</strong></u> — это компонент приложения, который позволяет вам слушать и реагировать на широковещательные сообщения из других приложений или из самой системы. Эти сообщения могут сообщать о различных событиях, таких как изменение состояния сети, низкий уровень заряда батареи, смена языка в устройстве и т.д.</p>
<p>Когда какое-то событие происходит, система или приложение может рассылать соответствующий "интент" (Intent) в виде широковещательного сообщения, которое будет получено всеми заинтересованными <strong>`BroadcastReceiver`</strong>'ами, зарегистрированными на прием таких сообщений.</p>
<p><strong>Как он работает:</strong></p>
<p><strong>1. Объявление в манифесте:</strong> Вы можете объявить его в манифесте вашего приложения, указав те интенты, на которые он должен реагировать. Это делает его доступным даже если ваше приложение не запущено.</p>
<p><strong>2. Динамическая регистрация:</strong> Вы также можете зарегистрировать его динамически в коде вашего приложения. В этом случае он будет получать сообщения только когда ваше приложение запущено и активно.</p>
<p>Пример:</p>
<p>Давайте рассмотрим простой пример, где мы создаем <strong>`BroadcastReceiver`</strong> для прослушивания изменений состояния подключения к сети:</p>
<pre>
<code>```kotlin
class NetworkChangeReceiver : BroadcastReceiver() {
    override fun onReceive(context: Context?, intent: Intent?) {
        val isConnected = /* Проверьте состояние сети */
        if (isConnected) {
            // Действия при подключении к сети
        } else {
            // Действия при отключении от сети
        }
    }
}
```</code></pre>
<p>Если вы объявляете<strong> `BroadcastReceiver`</strong> в манифесте, вам также потребуется добавить соответствующее разрешение и объявление ресивера:</p>
<pre>
<code>```xml
&lt;receiver android:name=".NetworkChangeReceiver"&gt;
    &lt;intent-filter&gt;
        &lt;action android:name="android.net.conn.CONNECTIVITY_CHANGE" /&gt;
    &lt;/intent-filter&gt;
&lt;/receiver&gt;
```</code></pre>
<p><strong>Важные соображения:</strong></p>
<ul>
<li>Начиная с Android 8.0 (API уровень 26), система налагает дополнительные ограничения на использование<strong> `BroadcastReceiver`</strong> для некоторых действий, чтобы оптимизировать производительность и энергопотребление. Например, некоторые системные широковещательные сообщения не могут быть получены через манифест для приложений, работающих в фоне.</li>
<li>Важно использовать <strong>`BroadcastReceiver`</strong> ответственно и не выполнять в <strong>`onReceive`</strong> длительные операции, так как это может привести к задержкам в работе приложения и увеличению потребления энергии.</li>
</ul>
<p><u><strong>`BroadcastReceiver`</strong></u> — это компонент, который позволяет вашему приложению реагировать на широковещательные сообщения от системы или других приложений, делая его мощным инструментом для обработки системных событий и межпроцессного взаимодействия.</p></p>